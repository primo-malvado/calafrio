!function(e){function t(n){if(r[n])return r[n].exports;var c=r[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,t),c.l=!0,c.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/assets/",t(t.s=15)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o={shift:0,reduce:1,accept:2,goto:2},u=function(){function e(t,r){n(this,e),this.lexer=t,this.table=r.table,this.ignoreTokens=r.ignoreTokens||[],this.states=r.states}return c(e,[{key:0,value:function(e){var t=this.lexer.popToken();this.stack.unshift(t),this._actualState=e}},{key:1,value:function(e){this._reduce(e),this._actualState=this.actualState()}},{key:2,value:function(e){this._reduce(e)}},{key:"_reduce",value:function(e){for(var t=this.states[e],r=t.base.length,n=[],c=0;c<r;c++){var o=this.stack.shift();n.unshift(o)}void 0===t.action&&(t.action=function(e){return"---"});var u=t.action(n);this.stack.unshift({tokenType:t.create,tree:n,rules:u})}},{key:"actualState",value:function(){for(var e=0,t=this.stack.length-1;t>-1;t--)e=this.table[e][this.stack[t].tokenType][1];return e}},{key:"parse",value:function(e){for(this.lexer.setInput(e),this.stack=[],this._actualState=this.actualState();;){var t=this.lexer.readToken();if(-1===this.ignoreTokens.indexOf(t.tokenType)){if(!this.table[this._actualState][t.tokenType])throw console.log("%c"+this.lexer.input.substring(this.lexer.nextToken.startPosition-10,this.lexer.nextToken.startPosition)+"%c"+this.lexer.input.substring(this.lexer.nextToken.startPosition,this.lexer.nextToken.toPos)+"%c"+this.lexer.input.substring(this.lexer.nextToken.toPos,this.lexer.YYCURSOR+10),"background:#fff;color:#000","background:#f00;color:#fff","background:#fff;color:#000"),"unexpeted ";var r=this.table[this._actualState][t.tokenType];if(this[r[0]],this[r[0]](r[1]),r[0]===o.accept)break}else this.lexer.popToken()}}}]),e}();t.default=u},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(){function e(t){n(this,e),this.states=["INITIAL"],this.YYCURSOR=0,this.grammar=t,this.nextToken=null}return o(e,[{key:"setInput",value:function(e){this.input=e,this.states=["INITIAL"],this.YYCURSOR=0,this.nextToken=null}},{key:"readToken",value:function(){return null===this.nextToken&&(this.nextToken=this.parse()),this.nextToken}},{key:"beginState",value:function(e){this.states.unshift(e)}},{key:"parse",value:function(){var e=this,t=this.YYCURSOR;this.yytext="";var r="0",n=null;this.YYLIMIT=this.input.length;for(;this.YYCURSOR<this.YYLIMIT;){var o=function(){var c=e.input.charAt(e.YYCURSOR),o=e.grammar[e.states[0]].table.filter(function(e){return e.from===r&&e._ft_<=c&&e._tt_>=c});if(!(o.length>0)){if(null!==n){if(n.parseFunction){var u=n.parseFunction(e);return u.startPosition=t,u.toPos=n.pos,{v:u}}return{v:n}}throw console.log("%c"+e.input.substring(t-10,t)+"%c"+e.input.substring(t,e.YYCURSOR+1)+"%c"+e.input.substring(e.YYCURSOR+1,e.YYCURSOR+10),"background:#fff;color:#000","background:#f00;color:#fff","background:#fff;color:#000"),"lexer unexpeted "}if(e.YYCURSOR++,e.yytext+=c,r=o[0].to,void 0!==e.grammar[e.states[0]].endMap[r]){var i=e.grammar[e.states[0]].endMap[r].tokenType;n={tokenType:i,parseFunction:e.grammar[e.states[0]].endMap[r].parseFunction,content:e.yytext,startPosition:t,pos:e.YYCURSOR}}}();if("object"===(void 0===o?"undefined":c(o)))return o.v}if(null!==n){if(n.parseFunction){var u=n.parseFunction(this);return u.startPosition=t,u.toPos=n.pos,u}return n}return{tokenType:"eof"}}},{key:"popToken",value:function(){var e=this.readToken();return this.nextToken=null,e}}]),e}();t.default=u},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function c(e){var t=e.map(function(e){return e.from}),r=e.map(function(e){return e.to});return[].concat(n(new Set([].concat(n(t),n(r)))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},function(e,t,r){"use strict";function n(e){var t=e.map(function(e){return e._ft_.charCodeAt(0)}),r=e.map(function(e){return e._tt_.charCodeAt(0)+1}),n=t.concat(r).unique().sort(),c=[];return e.forEach(function(e){var t=e._ft_.charCodeAt(0),r=e._tt_.charCodeAt(0),o=!1;n.forEach(function(n){if(o=!1,n>t&&n<=r){var u={_ft_:String.fromCharCode(t),_tt_:String.fromCharCode(n-1),from:e.from,to:e.to};c.push(u),t=n,o=!0}}),o||c.push({_ft_:String.fromCharCode(t),_tt_:String.fromCharCode(r),from:e.from,to:e.to})}),c}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,Array.prototype.unique=function(){for(var e=[],t=0;t<this.length;t++)-1==e.indexOf(this[t])&&e.push(this[t]);return e}},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function c(e,t){e.sort(),t.sort();for(var r=0,n=0,c=[];r<e.length&&n<t.length;)e[r]<t[n]?r++:t[n]<e[r]?n++:(c.push(e[r]),r++,n++);return c}function o(){return""+h++}function u(e,t){var r=e.filter(function(e){return e.token?-1!==t.indexOf(e.from)&&"ε"===e.token:-1!==t.indexOf(e.from)&&"ε"===e._ft_&&"ε"===e._tt_}).map(function(e){return e.to}),c=[].concat(n(new Set([].concat(n(r),n(t)))));return t.length===c.length?c:u(e,c)}function i(e,t,r,n){var c=e.table.filter(function(e){return e.token?-1!==t.indexOf(e.from)&&e.token==r:-1!==t.indexOf(e.from)&&e._ft_<=r&&e._tt_>=n}).map(function(e){return e.to});return u(e.table,c)}function a(e){h=0;var t={idMap:{},processed:{}},r={table:(0,f.default)(e.table),start:e.start,endMap:e.endMap,end:e.end},n={table:[],start:[],end:[]};return n.endMap={},l(r,n,u(r.table,r.start),t,!0),n}function l(e,t,r,n){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r.sort().join("_");if(void 0===n.processed[i]){if(n.processed[i]={},void 0===n.idMap[i]){var a=o();if(n.idMap[i]=a,u&&t.start.push(a),c(e.end,r).length>0&&(t.end.push(a),e.endMap)){var l=r.map(function(t){return e.endMap[t]}).filter(function(e){return void 0!==e}).sort(function(e,t){return e.priority-t.priority});t.endMap[a]={parseFunction:l[0].parseFunction}}}e.table.filter(function(e){return-1!==r.indexOf(e.from)}).forEach(function(c){"ε"!==c._ft_&&void 0===n.processed[i][c._ft_]&&(n.processed[i][c._ft_]=!0,s(e,t,r,c,n))})}}function s(e,t,r,n,u){var a=i(e,r,n._ft_,n._tt_),s=r.sort().join("_"),d=a.sort().join("_");if(void 0===u.idMap[d]){var f=o();if(u.idMap[d]=f,c(e.end,a).length>0&&(t.end.push(f),e.endMap)){var h=a.map(function(t){return e.endMap[t]}).filter(function(e){return void 0!==e}).sort(function(e,t){return e.priority-t.priority});t.endMap[f]={parseFunction:h[0].parseFunction}}}t.table.push({_ft_:n._ft_,_tt_:n._tt_,from:u.idMap[s],to:u.idMap[d]}),l(e,t,a,u,!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.determinize=a;var d=r(3),f=function(e){return e&&e.__esModule?e:{default:e}}(d),h=0},function(e,t,r){"use strict";function n(e){function t(e){var r=e.map(function(e){return T.filter(function(t){return t.state.create==T[e].state.base[T[e].pos]&&0===t.pos})}),n=r.map(function(e){return e.map(function(e){return e.id})}),c=e.concat(n.reduce(function(e,t){return e.concat(t)},[])).unique().sort(function(e,t){return e-t});return c.length!=e.length?t(c):c}function r(e){var t=[];return e.map(function(e){return T[e].emptyJumps}).forEach(function(e){t=t.concat(e)}),t.unique().sort(function(e,t){return e-t})}function n(e){var t=e,r=t.join("-");if(void 0===O[r]){var n=I++;e.forEach(function(e){T[e].listFinalStates.push(n)}),O[r]={id:n,ids:e,processed:!1},M[n]=e}return{id:O[r].id,key:r}}function o(e){var t=n(e);if(!1===O[t.key].processed){O[t.key].processed=!0;for(var c={},u=e.map(function(e){return T[e].state.base[T[e].pos]}).filter(function(e){return void 0!==e}).unique(),i=0;i<u.length;i++)!function(t){var i=u[t],a=[];e.map(function(e){var t=T[e],r=T.filter(function(e){return e.state.id===t.state.id&&e.pos===t.pos+1&&e.state.base[e.pos-1]===i}).map(function(e){return e.id});a=a.concat(r)});var l=r(a),s=n(l);void 0===c.next&&(c.next={}),c.next[i]=s.id,o(l)}(i);x[t.id]=c}}var u=void 0,i=void 0,a=void 0,l=void 0,s=void 0,d=void 0,f=void 0,h=void 0,p=e.start;Array.prototype.unique=function(){for(var e=[],t=0;t<this.length;t++)-1==e.indexOf(this[t])&&e.push(this[t]);return e},Array.prototype.contains=function(e){for(var t=this.length;t--;)if(-1!==e.indexOf(this[t]))return!0;return!1};for(var _={},y=0;y<e.precedence.length;y++)for(var m=0;m<e.precedence[y].tokens.length;m++)_[e.precedence[y].tokens[m]]={type:e.precedence[y].type,level:y+1};var b={};for(u in e.states)for(b[u]={firsts:[],follows:[],hasEmptyRules:!1,isTerminal:!1},i=0;i<e.states[u].rules.length;i++)for(a=e.states[u].rules[i].rule,l=a.length,0===l&&(b[u].hasEmptyRules=!0),s=0;s<l;s++)f=a[s],void 0===b[f]&&(b[f]={isTerminal:!0,follows:[],firsts:[f]});for(d=!0;d;){d=!1;for(u in e.states){if(h=b[u].firsts.length,!1===b[u].isTerminal){for(i=0;i<e.states[u].rules.length;i++)if(a=e.states[u].rules[i].rule,(l=a.length)>0)for(s=0;s<l&&(f=a[s],b[u].firsts=b[u].firsts.concat(b[f].firsts),!b[f].isTerminal&&!1!==b[f].hasEmptyRules);s++);b[u].firsts=b[u].firsts.unique()}h!==b[u].firsts.length&&(d=!0)}}for(b[p].follows.push("eof"),d=!0;d;){d=!1;for(u in e.states)if(!1===b[u].isTerminal)for(i=0;i<e.states[u].rules.length;i++)if(a=e.states[u].rules[i].rule,(l=a.length)>0){for(s=l-1;s>0;s--)for(var g=s-1;g>=0;g--){f=a[s];var v=a[g];if(h=b[v].follows.length,b[v].follows=b[v].follows.concat(b[f].firsts),b[v].follows=b[v].follows.unique(),h!==b[v].follows.length&&(d=!0),b[v].isTerminal||!1===b[v].hasEmptyRules)break}var k=a[l-1];h=b[k].follows.length,b[k].follows=b[k].follows.concat(b[u].follows),b[k].follows=b[k].follows.unique(),h!==b[k].follows.length&&(d=!0)}}var x={},T=[],I=0,R=0,E=0,S={},O={},M={};for(u in e.states)for(e.states[u].hasEmptyRules=!1,e.states[u].isTerminal=!1,i=0;i<e.states[u].rules.length;i++){var A=E++,F={id:A,create:u,base:e.states[u].rules[i].rule,action:e.states[u].rules[i].action,precedence:null};S[A]=F,0===F.base.length&&(e.states[u].hasEmptyRules=!0);var w=void 0;for(l=e.states[u].rules[i].rule.length,s=0;s<l+1;s++){var C=R++;w=e.states[u].rules[i].rule[s],void 0!==_[w]&&(F.precedence=_[w]),T.push({state:F,id:C,pos:s,reduce:s===l,listFinalStates:[]})}e.states[u].rules[i].prec&&(w=e.states[u].rules[i].prec,F.precedence=_[w])}for(var N=0;N<T.length;N++)T[N].emptyJumps=t([T[N].id]);o(T[0].emptyJumps);var P=Object.keys(b).filter(function(e){return b[e].isTerminal});P.unshift("eof");var j=Object.keys(b).filter(function(e){return!1===b[e].isTerminal}),$={};for(E in x)!function(){$[E]={};var e={};M[E].filter(function(e){return T[e].reduce}).forEach(function(t){var r=T[t].state;b[r.create].follows.forEach(function(r){void 0===e[r]&&(e[r]=[]),e[r].push(t)})});for(var t=0;t<P.length;t++){var r=[],n=P[t];if(x[E].next&&x[E].next[n]){var o=_[n],u={action:c.shift,stateId:E,to:x[E].next[n],prec:{type:o?o.type:"none",level:o?o.level:-1}};r.push(u)}if(void 0!==e[n]){var i=e[n],a=i.map(function(e){var t=T[e].state;return{stateId:t.id,action:t.create===p?c.accept:c.reduce,to:t.create+":= "+t.base.join(" "),prec:{type:t.precedence?t.precedence.type:"none",level:t.precedence?t.precedence.level:-1}}});r=r.concat(a)}if(r.sort(function(e,t){var r=t.prec.level-e.prec.level;return 0===r&&(r=e.stateId-t.stateId),r}),1!==r.length){if(r.length>1&&("left"===r[0].prec.type&&"left"===r[1].prec.type||"none"===r[0].prec.type&&"none"===r[1].prec.type||r[0].prec.type!==r[1].prec.type))$[E][n]=[r[0].action,r[0].action===c.shift?r[0].to:r[0].stateId];else if(r.length>0)throw"conflito"}else $[E][n]=[r[0].action,r[0].action===c.shift?r[0].to:r[0].stateId]}for(var l=0;l<j.length;l++)if(x[E].next&&x[E].next[j[l]]){var s=j[l],d=x[E].next[j[l]];$[E][s]=[c.goto,d]}}();var Y=Object.keys(S).map(function(e){var t=S[e];return{create:t.create,base:t.base,action:t.action}});return{tokens:Object.keys(b),states:Y,ignoreTokens:e.ignoreTokens,table:$}}Object.defineProperty(t,"__esModule",{value:!0}),t.createParser=n;var c={shift:0,reduce:1,accept:2,goto:2}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lexerRules=void 0;var n=r(7),c=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r(4),u=r(11),i=[];i.push({onState:"INITIAL",regex:"[0-9]+(\\.[0-9]*)?",parseFunction:function(e){return{content:parseFloat(e.yytext),tokenType:"NUMBER"}}}),i.push({onState:"INITIAL",regex:",",parseFunction:function(e){return{tokenType:","}}}),i.push({onState:"INITIAL",regex:"pi",parseFunction:function(e){return{content:"PI",tokenType:"CONST"}}}),i.push({onState:"INITIAL",regex:"sqrt",parseFunction:function(e){return{tokenType:"SQRT"}}}),i.push({onState:"INITIAL",regex:"cos",parseFunction:function(e){return{tokenType:"COS"}}}),i.push({onState:"INITIAL",regex:"sin",parseFunction:function(e){return{tokenType:"SIN"}}}),i.push({onState:"INITIAL",regex:"\\(",parseFunction:function(e){return{tokenType:"("}}}),i.push({onState:"INITIAL",regex:"\\)",parseFunction:function(e){return{tokenType:")"}}}),i.push({onState:"INITIAL",regex:"\\+",parseFunction:function(e){return{tokenType:"+"}}}),i.push({onState:"INITIAL",regex:"\\^",parseFunction:function(e){return{tokenType:"^"}}}),i.push({onState:"INITIAL",regex:"\\-",parseFunction:function(e){return{tokenType:"-"}}}),i.push({onState:"INITIAL",regex:"\\*",parseFunction:function(e){return{tokenType:"*"}}}),i.push({onState:"INITIAL",regex:"/",parseFunction:function(e){return{tokenType:"/"}}}),i.push({onState:"INITIAL",regex:"((\\n|\\r|\\t|\\s))+",parseFunction:function(e){return{tokenType:"WHITESPACE"}}});var a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(new Set(i.map(function(e){return e.onState}))));i.forEach(function(e,t){i[t].sm=(0,c.default)(e.regex)});var l={};a.forEach(function(e){var t=i.filter(function(t){return t.onState===e});l[e]=(0,o.determinize)((0,u.grammarMixer)(t))});t.lexerRules=l},function(e,t,r){"use strict";function n(e){var t=(0,i.default)(e),r=(0,o.determinize)(t);return(0,c.minimize)(r)}Object.defineProperty(t,"__esModule",{value:!0});var c=r(8),o=r(4),u=r(9),i=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){return e.filter(function(e){return-1!==t.indexOf(e)})}function u(e){return[].concat(c(new Set(e)))}function i(e){var t=(0,f.default)(e.table),r=(0,s.default)(t);r.push("sink");for(var n={},c=[],i={},l=0;l<e.table.length;l++){var d=e.table[l];void 0===i[d.from]&&(i[d.from]={}),i[d.from][d._ft_]=d.to}for(var h=0;h<r.length-1;h++){void 0===n[r[h]]&&(n[r[h]]={});for(var p=h+1;p<r.length;p++)void 0===n[r[p]]&&(n[r[p]]={}),-1!==e.end.indexOf(r[h])!=(-1!==e.end.indexOf(r[p]))?(n[r[h]][r[p]]=!0,n[r[p]][r[h]]=!0):c.push([r[h],r[p]])}var _=0;if(_!==c.length){_=c.length;for(var y=0;y<_;y++)a(i,n,c)}for(var m=[],b=0;b!==c.length;){b=c.length;for(var g=void 0;g=c.pop();){for(var v=!1,k=0;!v&&k<m.length;k++)o(m[k],g).length>0&&(console.log(m[k],g),m[k]=u(m[k].concat(g)),v=!0);v||m.push(g)}c=m,m=[]}var x={};c.forEach(function(e){var t=e.join(",");e.forEach(function(e){x[e]=t})}),e.table.forEach(function(e){e.from=x[e.from]?x[e.from]:e.from,e.to=x[e.to]?x[e.to]:e.to});for(var T=0;T<e.end.length;T++)e.end[T]=x[e.end[T]]?x[e.end[T]]:e.end[T];for(var I=0;I<e.start.length;I++)e.start[I]=x[e.start[I]]?x[e.start[I]]:e.start[I];for(var R=[];e.table.length;)!function(){var t=e.table.pop();R.push(t),e.table=e.table.filter(function(e){return e._ft_!==t._ft_||e._tt_!==t._tt_||e.from!==t.from||e.to!==t.to})}();return e.table=R,e}function a(e,t,r){for(var n=r.pop(),c=e[n[0]],o=e[n[1]],i=void 0===c?[]:Object.keys(c),a=void 0===o?[]:Object.keys(o),l=u(i.concat(a)),s=0;s<l.length;s++){var d=l[s],f=e[n[0]]&&e[n[0]][d]?e[n[0]][d]:"sink",h=e[n[1]]&&e[n[1]][d]?e[n[1]][d]:"sink";if(!(!t[f]||!t[f][h]))return t[n[0]][n[1]]=!0,t[n[1]][n[0]]=!0,!0}return r.unshift(n),!1}Object.defineProperty(t,"__esModule",{value:!0}),t.minimize=i;var l=r(2),s=n(l),d=r(3),f=n(d)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function c(e){var t={lastId:0,getNextId:function(){return""+this.lastId++},structure:{end:[],start:[],table:[]}},r=t.getNextId(t),n=t.getNextId(t);return t.structure.start.push(r),t.structure.end.push(n),o(t,e,r,n),t.structure}function o(e,t,r,n){var c=void 0,u=void 0,i=void 0;switch(t.tokenType){case"char":e.structure.table.push({from:r,to:n,_ft_:t.rules[0],_tt_:t.rules[0]});break;case"range":e.structure.table.push({from:r,to:n,_ft_:t.rules[0].content,_tt_:t.rules[1].content});break;case"star":c=e.getNextId(e),u=e.getNextId(e),e.structure.table.push({from:r,to:n,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:u,to:c,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:r,to:c,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:u,to:n,_ft_:"ε",_tt_:"ε"}),o(e,t.rules[0],c,u);break;case"optional":c=e.getNextId(e),u=e.getNextId(e),e.structure.table.push({from:c,to:u,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:r,to:c,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:u,to:n,_ft_:"ε",_tt_:"ε"}),o(e,t.rules[0],c,u);break;case"plus":c=e.getNextId(e),u=e.getNextId(e),e.structure.table.push({from:u,to:c,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:r,to:c,_ft_:"ε",_tt_:"ε"}),e.structure.table.push({from:u,to:n,_ft_:"ε",_tt_:"ε"}),o(e,t.rules[0],c,u);break;case"concat":for(i=0;i<t.rules.length-1;i++)u=e.getNextId(e),o(e,t.rules[i],r,u),r=u;void 0===n&&console.error("quando é k chega aki?"),o(e,t.rules[i],r,n);break;case"or":for(i=0;i<t.rules.length;i++)o(e,t.rules[i],r,n);break;default:console.error("not parsed",t.tokenType)}}function u(e){var t=new s.default(d.config.lexerTable,!1),r=new a.default(t,d.config.parserTable);return r.parse(e),c(r.stack[0].rules)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=n(i),l=r(1),s=n(l),d=r(10);t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={shift:0,reduce:1,accept:2,goto:2};t.config={lexerTable:{INITIAL:{table:[{from:"0",_ft_:"?",_tt_:"?",to:"1"},{from:"0",_ft_:"[",_tt_:"[",to:"2"},{from:"0",_ft_:".",_tt_:".",to:"3"},{from:"0",_ft_:"]",_tt_:"]",to:"4"},{from:"0",_ft_:")",_tt_:")",to:"5"},{from:"0",_ft_:"(",_tt_:"(",to:"6"},{from:"0",_ft_:"|",_tt_:"|",to:"7"},{from:"0",_ft_:"*",_tt_:"*",to:"8"},{from:"0",_ft_:"+",_tt_:"+",to:"9"},{from:"0",_ft_:"-",_tt_:"-",to:"10"},{from:"0",_ft_:"\\",_tt_:"\\",to:"11"},{from:"11",_ft_:"x",_tt_:"x",to:"12"},{from:"12",_ft_:"0",_tt_:"9",to:"13"},{from:"13",_ft_:"0",_tt_:"9",to:"14"},{from:"13",_ft_:"a",_tt_:"f",to:"14"},{from:"12",_ft_:"a",_tt_:"f",to:"13"},{from:"11",_ft_:"n",_tt_:"n",to:"14"},{from:"11",_ft_:"?",_tt_:"?",to:"14"},{from:"11",_ft_:"$",_tt_:"$",to:"14"},{from:"11",_ft_:"r",_tt_:"t",to:"14"},{from:"11",_ft_:"-",_tt_:".",to:"14"},{from:"11",_ft_:"{",_tt_:"}",to:"14"},{from:"11",_ft_:"(",_tt_:"+",to:"14"},{from:"11",_ft_:"[",_tt_:"^",to:"14"},{from:"0",_ft_:",",_tt_:",",to:"14"},{from:"0",_ft_:"~",_tt_:"~",to:"14"},{from:"0",_ft_:"_",_tt_:"z",to:"14"},{from:"0",_ft_:"!",_tt_:"#",to:"14"},{from:"0",_ft_:"@",_tt_:"Z",to:"14"},{from:"0",_ft_:"%",_tt_:"'",to:"14"},{from:"0",_ft_:"/",_tt_:">",to:"14"}],endMap:{1:{parseFunction:function(e){return{tokenType:"?"}}},2:{parseFunction:function(e){return{tokenType:"["}}},3:{parseFunction:function(e){return{tokenType:"."}}},4:{parseFunction:function(e){return{tokenType:"]"}}},5:{parseFunction:function(e){return{tokenType:")"}}},6:{parseFunction:function(e){return{tokenType:"("}}},7:{parseFunction:function(e){return{tokenType:"|"}}},8:{parseFunction:function(e){return{tokenType:"*"}}},9:{parseFunction:function(e){return{tokenType:"+"}}},10:{parseFunction:function(e){return{tokenType:"-"}}},14:{parseFunction:function(e){return{content:e.yytext,tokenType:"char"}}}},start:["0"],end:["1","2","3","4","5","6","7","8","9","10","14"]}},parserTable:{table:{0:{".":[n.shift,14],$:[n.shift,15],char:[n.shift,16],metachar:[n.shift,17],"(":[n.shift,19],"[":[n.shift,22],startx:[n.goto,1],RE:[n.goto,2],or:[n.goto,20],simpleRE:[n.goto,21],concatenation:[n.goto,29],basicRE:[n.goto,30],star:[n.goto,6],plus:[n.goto,7],optional:[n.goto,8],elementaryRE:[n.goto,9],group:[n.goto,13],range:[n.goto,18]},1:{eof:[n.accept,0]},2:{eof:[n.reduce,1],"|":[n.shift,3]},3:{".":[n.shift,14],$:[n.shift,15],char:[n.shift,16],metachar:[n.shift,17],"(":[n.shift,19],"[":[n.shift,22],simpleRE:[n.goto,4],concatenation:[n.goto,29],basicRE:[n.goto,30],star:[n.goto,6],plus:[n.goto,7],optional:[n.goto,8],elementaryRE:[n.goto,9],group:[n.goto,13],range:[n.goto,18]},4:{eof:[n.reduce,4],"|":[n.reduce,4],".":[n.shift,14],$:[n.shift,15],char:[n.shift,16],metachar:[n.shift,17],"(":[n.shift,19],")":[n.reduce,4],"[":[n.shift,22],basicRE:[n.goto,5],star:[n.goto,6],plus:[n.goto,7],optional:[n.goto,8],elementaryRE:[n.goto,9],group:[n.goto,13],range:[n.goto,18]},5:{eof:[n.reduce,7],"|":[n.reduce,7],".":[n.reduce,7],$:[n.reduce,7],char:[n.reduce,7],metachar:[n.reduce,7],"(":[n.reduce,7],")":[n.reduce,7],"[":[n.reduce,7]},6:{eof:[n.reduce,8],"|":[n.reduce,8],".":[n.reduce,8],$:[n.reduce,8],char:[n.reduce,8],metachar:[n.reduce,8],"(":[n.reduce,8],")":[n.reduce,8],"[":[n.reduce,8]},7:{eof:[n.reduce,9],"|":[n.reduce,9],".":[n.reduce,9],$:[n.reduce,9],char:[n.reduce,9],metachar:[n.reduce,9],"(":[n.reduce,9],")":[n.reduce,9],"[":[n.reduce,9]},8:{eof:[n.reduce,10],"|":[n.reduce,10],".":[n.reduce,10],$:[n.reduce,10],char:[n.reduce,10],metachar:[n.reduce,10],"(":[n.reduce,10],")":[n.reduce,10],"[":[n.reduce,10]},9:{eof:[n.reduce,11],"|":[n.reduce,11],"*":[n.shift,10],"+":[n.shift,11],"?":[n.shift,12],".":[n.reduce,11],$:[n.reduce,11],char:[n.reduce,11],metachar:[n.reduce,11],"(":[n.reduce,11],")":[n.reduce,11],"[":[n.reduce,11]},10:{eof:[n.reduce,12],"|":[n.reduce,12],".":[n.reduce,12],$:[n.reduce,12],char:[n.reduce,12],metachar:[n.reduce,12],"(":[n.reduce,12],")":[n.reduce,12],"[":[n.reduce,12]},11:{eof:[n.reduce,13],"|":[n.reduce,13],".":[n.reduce,13],$:[n.reduce,13],char:[n.reduce,13],metachar:[n.reduce,13],"(":[n.reduce,13],")":[n.reduce,13],"[":[n.reduce,13]},12:{eof:[n.reduce,14],"|":[n.reduce,14],".":[n.reduce,14],$:[n.reduce,14],char:[n.reduce,14],metachar:[n.reduce,14],"(":[n.reduce,14],")":[n.reduce,14],"[":[n.reduce,14]},13:{eof:[n.reduce,15],"|":[n.reduce,15],"*":[n.reduce,15],"+":[n.reduce,15],"?":[n.reduce,15],".":[n.reduce,15],$:[n.reduce,15],char:[n.reduce,15],metachar:[n.reduce,15],"(":[n.reduce,15],")":[n.reduce,15],"[":[n.reduce,15]},14:{eof:[n.reduce,16],"|":[n.reduce,16],"*":[n.reduce,16],"+":[n.reduce,16],"?":[n.reduce,16],".":[n.reduce,16],$:[n.reduce,16],char:[n.reduce,16],metachar:[n.reduce,16],"(":[n.reduce,16],")":[n.reduce,16],"[":[n.reduce,16]},15:{eof:[n.reduce,17],"|":[n.reduce,17],"*":[n.reduce,17],"+":[n.reduce,17],"?":[n.reduce,17],".":[n.reduce,17],$:[n.reduce,17],char:[n.reduce,17],metachar:[n.reduce,17],"(":[n.reduce,17],")":[n.reduce,17],"[":[n.reduce,17]},16:{eof:[n.reduce,18],"|":[n.reduce,18],"*":[n.reduce,18],"+":[n.reduce,18],"?":[n.reduce,18],".":[n.reduce,18],$:[n.reduce,18],char:[n.reduce,18],metachar:[n.reduce,18],"(":[n.reduce,18],")":[n.reduce,18],"[":[n.reduce,18]},17:{eof:[n.reduce,19],"|":[n.reduce,19],"*":[n.reduce,19],"+":[n.reduce,19],"?":[n.reduce,19],".":[n.reduce,19],$:[n.reduce,19],char:[n.reduce,19],metachar:[n.reduce,19],"(":[n.reduce,19],")":[n.reduce,19],"[":[n.reduce,19]},18:{eof:[n.reduce,20],"|":[n.reduce,20],"*":[n.reduce,20],"+":[n.reduce,20],"?":[n.reduce,20],".":[n.reduce,20],$:[n.reduce,20],char:[n.reduce,20],metachar:[n.reduce,20],"(":[n.reduce,20],")":[n.reduce,20],"[":[n.reduce,20]},19:{".":[n.shift,14],$:[n.shift,15],char:[n.shift,16],metachar:[n.shift,17],"(":[n.shift,19],"[":[n.shift,22],RE:[n.goto,27],or:[n.goto,20],simpleRE:[n.goto,21],concatenation:[n.goto,29],basicRE:[n.goto,30],star:[n.goto,6],plus:[n.goto,7],optional:[n.goto,8],elementaryRE:[n.goto,9],group:[n.goto,13],range:[n.goto,18]},20:{eof:[n.reduce,2],"|":[n.reduce,2],")":[n.reduce,2]},21:{eof:[n.reduce,3],"|":[n.reduce,3],".":[n.shift,14],$:[n.shift,15],char:[n.shift,16],metachar:[n.shift,17],"(":[n.shift,19],")":[n.reduce,3],"[":[n.shift,22],basicRE:[n.goto,5],star:[n.goto,6],plus:[n.goto,7],optional:[n.goto,8],elementaryRE:[n.goto,9],group:[n.goto,13],range:[n.goto,18]},22:{char:[n.shift,23]},23:{"-":[n.shift,24]},24:{char:[n.shift,25]},25:{"]":[n.shift,26]},26:{eof:[n.reduce,22],"|":[n.reduce,22],"*":[n.reduce,22],"+":[n.reduce,22],"?":[n.reduce,22],".":[n.reduce,22],$:[n.reduce,22],char:[n.reduce,22],metachar:[n.reduce,22],"(":[n.reduce,22],")":[n.reduce,22],"[":[n.reduce,22]},27:{"|":[n.shift,3],")":[n.shift,28]},28:{eof:[n.reduce,21],"|":[n.reduce,21],"*":[n.reduce,21],"+":[n.reduce,21],"?":[n.reduce,21],".":[n.reduce,21],$:[n.reduce,21],char:[n.reduce,21],metachar:[n.reduce,21],"(":[n.reduce,21],")":[n.reduce,21],"[":[n.reduce,21]},29:{eof:[n.reduce,5],"|":[n.reduce,5],".":[n.reduce,5],$:[n.reduce,5],char:[n.reduce,5],metachar:[n.reduce,5],"(":[n.reduce,5],")":[n.reduce,5],"[":[n.reduce,5]},30:{eof:[n.reduce,6],"|":[n.reduce,6],".":[n.reduce,6],$:[n.reduce,6],char:[n.reduce,6],metachar:[n.reduce,6],"(":[n.reduce,6],")":[n.reduce,6],"[":[n.reduce,6]}},states:[{create:"G",base:["startx"],action:function(e){return e[0].rules}},{create:"startx",base:["RE"],action:function(e){return e[0].rules}},{create:"RE",base:["or"],action:function(e){return e[0].rules}},{create:"RE",base:["simpleRE"],action:function(e){return e[0].rules}},{create:"or",base:["RE","|","simpleRE"],action:function(e){return{tokenType:"or",rules:[e[0].rules,e[2].rules]}}},{create:"simpleRE",base:["concatenation"],action:function(e){return{tokenType:"concat",rules:[e[0].rules]}}},{create:"simpleRE",base:["basicRE"],action:function(e){return{tokenType:"concat",rules:[e[0].rules]}}},{create:"concatenation",base:["simpleRE","basicRE"],action:function(e){return{tokenType:"concat",rules:[e[0].rules,e[1].rules]}}},{create:"basicRE",base:["star"],action:function(e){return e[0].rules}},{create:"basicRE",base:["plus"],action:function(e){return e[0].rules}},{create:"basicRE",base:["optional"],action:function(e){return e[0].rules}},{create:"basicRE",base:["elementaryRE"],action:function(e){return e[0].rules}},{create:"star",base:["elementaryRE","*"],action:function(e){return{tokenType:"star",rules:[e[0].rules]}}},{create:"plus",base:["elementaryRE","+"],action:function(e){return{tokenType:"plus",rules:[e[0].rules]}}},{create:"optional",base:["elementaryRE","?"],action:function(e){return{tokenType:"optional",rules:[e[0].rules]}}},{create:"elementaryRE",base:["group"],action:function(e){return e[0].rules}},{create:"elementaryRE",base:["."],action:function(e){return{tokenType:".",rules:e[0].content}}},{create:"elementaryRE",base:["$"],action:function(e){return{tokenType:"$",rules:e[0].content}}},{create:"elementaryRE",base:["char"],action:function(e){return 0===e[0].content.indexOf("\\s")&&(e[0].content=" "),0===e[0].content.indexOf("\\t")&&(e[0].content="\t"),0===e[0].content.indexOf("\\r")&&(e[0].content="\r"),0===e[0].content.indexOf("\\n")&&(e[0].content="\n"),0===e[0].content.indexOf("\\x")&&(e[0].content=String.fromCharCode(parseInt(e[0].content.replace("\\x","0x")))),0===e[0].content.indexOf("\\")&&(e[0].content=e[0].content.replace("\\","")),{tokenType:"char",rules:e[0].content}}},{create:"elementaryRE",base:["metachar"],action:function(e){return{tokenType:"char",rules:":"}}},{create:"elementaryRE",base:["range"],action:function(e){return e[0].rules}},{create:"group",base:["(","RE",")"],action:function(e){return e[1].rules}},{create:"range",base:["[","char","-","char","]"],action:function(e){return 0===e[1].content.indexOf("\\x")&&(e[1].content=String.fromCharCode(parseInt(e[1].content.replace("\\x","0x")))),0===e[3].content.indexOf("\\x")&&(e[3].content=String.fromCharCode(parseInt(e[3].content.replace("\\x","0x")))),0===e[1].content.indexOf("\\")&&(e[1].content=e[1].content.replace("\\","")),0===e[3].content.indexOf("\\")&&(e[3].content=e[3].content.replace("\\","")),{tokenType:"range",rules:[e[1],e[3]]}}}]}}},function(e,t,r){"use strict";function n(e){function t(){return""+n++}for(var r={endMap:{},end:[],start:[],table:[]},n=0,c={},u=0;u<e.length;u++)!function(n){var u=e[n];u.priority=n,c[u.tokenType]={},(0,o.default)(u.sm.table).forEach(function(e){return c[u.tokenType][e]=t()}),u.sm.table.forEach(function(e){r.table.push({from:c[u.tokenType][e.from],to:c[u.tokenType][e.to],_ft_:e._ft_,_tt_:e._tt_})}),u.sm.start.forEach(function(e){r.start.push(c[u.tokenType][e])}),u.sm.end.forEach(function(e){var t=c[u.tokenType][e];r.end.push(t),void 0===r.endMap[t]?r.endMap[t]={tokenType:u.tokenType,parseFunction:u.parseFunction,priority:u.priority}:r.endMap[t].priority>u.priority&&(r.endMap[t]={tokenType:u.tokenType,parseFunction:u.parseFunction,priority:u.priority})})}(u);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.grammarMixer=n;var c=r(2),o=function(e){return e&&e.__esModule?e:{default:e}}(c)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parserRules={start:"G",ignoreTokens:["WHITESPACE"],precedence:[{type:"left",tokens:["+","-"]},{type:"left",tokens:["*","/"]},{type:"left",tokens:["^"]},{type:"left",tokens:["UMINUS"]}],states:{G:{rules:[{rule:["expr"],action:function(e){return e[0].rules}}]},expr:{rules:[{rule:["NUMBER"],action:function(e){return{type:"number",child:[e[0].content]}}},{rule:["SQRT","(","expr",")"],action:function(e){return{type:"SQRT",child:[e[2].rules]}}},{rule:["SIN","(","expr",")"],action:function(e){return{type:"SIN",child:[e[2].rules]}}},{rule:["COS","(","expr",")"],action:function(e){return{type:"COS",child:[e[2].rules]}}},{rule:["expr","*","expr"],action:function(e){return{type:"product",child:[e[0].rules,e[2].rules]}}},{rule:["expr","/","expr"],action:function(e){return{type:"/",child:[e[0].rules,e[2].rules]}}},{rule:["expr","+","expr"],action:function(e){return{type:"sum",child:[e[0].rules,e[2].rules]}}},{rule:["expr","-","expr"],action:function(e){return{type:"-",child:[e[0].rules,e[2].rules]}}},{rule:["expr","^","expr"],action:function(e){return{type:"power",child:[e[0].rules,e[2].rules]}}},{rule:["(","expr",")"],action:function(e){return e[1].rules}},{rule:["-","expr"],prec:"UMINUS",action:function(e){return{type:"negative",child:[e[1].rules]}}}]}}}},,,function(e,t,r){e.exports=r(16)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=e%t;return 0===r?t:c(t,r)}function o(e){switch(e.type){case"number":return!1;case"sum":if("number"===e.child[0].type&&"number"===e.child[1].type)return e.type="number",e.child=[e.child[0].child[0]+e.child[1].child[0]],!0;if("number"===e.child[0].type&&"sum"===e.child[1].type){if("number"===e.child[1].child[0].type)return e.child=[e.child[0].child[0]+e.child[1].child[0].child[0],e.child[1].child[1]],!0;if("number"===e.child[1].child[1].type)return e.child=[e.child[0].child[0]+e.child[1].child[1].child[0],e.child[1].child[0]],!0}if("/"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[0].child[1].type&&"number"===e.child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0].child[0]+e.child[1].child[0]*e.child[0].child[1].child[0]]},e.child[0].child[1]],!0;if("/"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[0].child[1].type&&"/"===e.child[1].type&&"number"===e.child[1].child[0].type&&"number"===e.child[1].child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0].child[0]*e.child[1].child[1].child[0]+e.child[1].child[0].child[0]*e.child[0].child[1].child[0]]},{type:"number",child:[e.child[0].child[1].child[0]*e.child[1].child[1].child[0]]}],!0;break;case"-":if("number"===e.child[0].type&&"number"===e.child[1].type)return e.type="number",e.child=[e.child[0].child[0]-e.child[1].child[0]],!0;if("/"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[0].child[1].type&&"/"===e.child[1].type&&"number"===e.child[1].child[0].type&&"number"===e.child[1].child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0].child[0]*e.child[1].child[1].child[0]-e.child[1].child[0].child[0]*e.child[0].child[1].child[0]]},{type:"number",child:[e.child[0].child[1].child[0]*e.child[1].child[1].child[0]]}],!0;if("number"===e.child[0].type&&"/"===e.child[1].type&&"number"===e.child[1].child[0].type&&"number"===e.child[1].child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0]*e.child[1].child[1].child[0]-e.child[1].child[0].child[0]]},e.child[1].child[1]],!0;if("number"===e.child[1].type&&"/"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[0].child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0].child[0]-e.child[1].child[0]*e.child[0].child[1].child[0]]},e.child[0].child[1]],!0;break;case"product":if("number"===e.child[0].type&&"number"===e.child[1].type)return e.type="number",e.child=[e.child[0].child[0]*e.child[1].child[0]],!0;if("product"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[1].type)return e.type="product",e.child=[{type:"number",child:[e.child[0].child[0].child[0]*e.child[1].child[0]]},e.child[0].child[1]],!0;if("number"===e.child[0].type&&"/"===e.child[1].type&&"number"===e.child[1].child[0].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0]*e.child[1].child[0].child[0]]},e.child[1].child[1]],!1;if("/"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[1].child[0]*e.child[0].child[0].child[0]]},e.child[0].child[1]],!0;if("/"===e.child[0].type&&"number"===e.child[0].child[0].type&&"number"===e.child[0].child[1].type&&"/"===e.child[1].type&&"number"===e.child[1].child[0].type&&"number"===e.child[1].child[1].type)return e.type="/",e.child=[{type:"number",child:[e.child[0].child[0].child[0]*e.child[1].child[0].child[0]]},{type:"number",child:[e.child[0].child[1].child[0]*e.child[1].child[1].child[0]]}],!0;break;case"/":if("number"===e.child[0].type&&"number"===e.child[1].type){var t=c(Math.max(e.child[0].child[0],e.child[1].child[0]),Math.min(e.child[0].child[0],e.child[1].child[0]));return 1!==t&&(t===e.child[1].child[0]?(e.type="number",e.child=[e.child[0].child[0]/t],!0):(e.child=[{type:"number",child:[e.child[0].child[0]/t]},{type:"number",child:[e.child[1].child[0]/t]}],!0))}}for(var r=!1,n=0;n<e.child.length;n++)r=r||o(e.child[n]);return r}function u(e){switch(e.type){case"number":return e.child[0];case"sum":return"("+u(e.child[0])+" + "+u(e.child[1])+" ) ";case"-":return"("+u(e.child[0])+" - "+u(e.child[1])+" ) ";case"product":return"("+u(e.child[0])+" * "+u(e.child[1])+" ) ";case"/":return"("+u(e.child[0])+" / "+u(e.child[1])+" ) "}for(var t=0;t<e.child.length;t++)e.child[t]=o(e.child[t]);return e}var i=r(0),a=n(i),l=r(1),s=n(l),d=r(5),f=r(6),h=r(12),p=(0,d.createParser)(h.parserRules);for(var _ in f.lexerRules){var y=f.lexerRules[_];for(var m in y.endMap){var b=y.endMap[m];delete b.tokenType,delete b.priority}}var g=new s.default(f.lexerRules,!1),v=new a.default(g,p);v.parse("3 -65 / 17  -5 * ( 5 / 12 ) * 3");var k=v.stack[0].rules;for(console.log(u(k));o(k);)console.log(u(k))}]);